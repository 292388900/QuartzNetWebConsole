<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Quartz.Net Console</title>
		<style>
			body {
				line-height: 130%;
			}
			div.group {
				padding: 7px;
				float: left;
				width: 45%;
				margin: 10px;
			}
			form {
				float: right;
				margin: 5px;
			}
			h2 {
				font-size: 120%;
				margin: 0px;
				padding: 5px;
				margin-bottom: 8px;
				border-bottom: solid 1px #444;
				background-color: #f5f5f5;
			}
			table, th, td {
				border: solid 1px #444;
				border-collapse: collapse;
			}
			th, td {
				padding: 2px 5px;
			}
			th {
				background-color: #f3f3f3;
			}
		</style>
	</head>
	<body>
	    <div class="group">
	        <h2>Scheduler name: $model.scheduler.SchedulerName</h2>
			<div style="float: left">
				Job store: $model.metadata.JobStoreType<br />
				Supports persistence: $model.metadata.JobStoreSupportsPersistence<br />
				Number of jobs executed: $model.metadata.NumJobsExecuted<br />
				Running since: $model.metadata.RunningSince<br />
				Stand-by: $model.scheduler.InStandbyMode
			</div>
			<div style="float: right">
				<form method="post" action="scheduler.ashx?method=Shutdown">
					<input type="submit" value="Shut down" />
				</form>
	        #if ($model.scheduler.InStandbyMode)
	            <form method="post" action="scheduler.ashx?method=Start">
	                <input type="submit" value="Start" />
	            </form>
	        #else
	            <form method="post" action="scheduler.ashx?method=Standby">
	                <input type="submit" value="Stand by" />
	            </form>
	        #end
				<form method="post" action="scheduler.ashx?method=PauseAll">
					<input type="submit" value="Pause all triggers" />
				</form>
				<form method="post" action="scheduler.ashx?method=ResumeAll">
					<input type="submit" value="Resume all triggers" />
				</form>
			</div>
        </div>
		<div class="group">
			<h2>Calendars</h2>
			<ul>
				#foreach ($i in $model.scheduler.CalendarNames)
				<li>$i</li>
				#end
			</ul>
		</div>		
	    <br style="clear:both" />
		<div class="group">
			<h2>Job groups</h2>
			<table>
				<tr>
					<th>Name</th>
					<th>Paused</th>
					<th></th>
				</tr>
				#foreach ($i in $model.jobGroups)
				<tr>
					<td><a href="jobGroup.ashx?group=$i.Name">$i.Name</a></td>
					<td>$i.Paused</td>
					<td>
						#if (!$i.Paused)
							<form method="post" action="scheduler.ashx?method=PauseJobGroup&groupName=$i.Name">
								<input type="submit" value="Pause" />
							</form>
						#else
							<form method="post" action="scheduler.ashx?method=ResumeJobGroup&groupName=$i.Name">
								<input type="submit" value="Resume" />
							</form>
						#end
					</td>
				</tr>
				#end
			</table>
		</div>
		<div class="group">
			<h2>Trigger groups</h2>
			<table>
				<tr>
					<th>Name</th>
					<th>Paused</th>
					<th></th>
				</tr>
				#foreach ($i in $model.triggerGroups)
				<tr>
					<td><a href="triggerGroup.ashx?group=$i.Name">$i.Name</a></td>
					<td>$i.Paused</td>
					<td>
						#if (!$i.Paused)
							<form method="post" action="scheduler.ashx?method=PauseTriggerGroup&groupName=$i.Name">
								<input type="submit" value="Pause" />
							</form>
						#else
							<form method="post" action="scheduler.ashx?method=ResumeTriggerGroup&groupName=$i.Name">
								<input type="submit" value="Resume" />
							</form>
						#end
					</td>
				</tr>
				#end
			</table>
		</div>
	    <br style="clear:both" />
		<div class="group">
			<h2>Job listeners</h2>
			<ul>
				#foreach ($i in $model.scheduler.JobListenerNames)
				<li>$i</li>
				#end
			</ul>
		</div>
		<div class="group">
			<h2>Trigger listeners</h2>
			<ul>
				#foreach ($i in $model.scheduler.TriggerListenerNames)
				<li>$i</li>
				#end
			</ul>
		</div>
	</body>
</html>